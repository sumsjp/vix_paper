1. [摘要](#S1)
2. [研究角度](#S2)
3. [研究方法](#S3)
4. [研究結果](#S4)
5. [研究結論](#S5)
6. [補充：CMFs](#S6)
7. [補充：C-MVO](#S7)

# (2024) VIX Constant Maturity Futures Trading Strategy: A Walk-Forward Machine Learning Study

<a name="S1"></a>
## 1. **摘要**

<a name="S2"></a>
## 2. **研究角度**

<a name="S3"></a>
## 3. **研究方法**

<a name="S4"></a>
## 4. **研究結果**

<a name="S5"></a>
## 5. **研究結論**

本研究探討 **VIX 恒定期限期貨 (VIX CMFs)** 的期限結構特徵是否具有對**次日收益預測的能力**，並基於此開發了一種新的交易策略——**約束均值方差投資組合優化策略 (C-MVO)**，與傳統的**多空交易策略**進行比較。

#### **主要結論：**
1. **VIX 期貨期限結構特徵具備預測能力**  
   - 本研究利用 **七種機器學習模型**（如 XGBoost、LSTM、GRU 等）來預測 VIX CMFs 的次日收益。  
   - 其中，**四種機器學習模型的預測信息比率 (Information Ratio) 超過 0.02，平均為 0.037**，顯示 VIX CMFs 的期限結構特徵確實具有預測能力。

2. **C-MVO 交易策略優於傳統多空策略**  
   - C-MVO 策略的 **信息比率 (IR) 平均為 0.623**，顯著高於基準多空策略的 **0.404**，證明該策略能有效提高交易表現。  
   - 這表明機器學習預測的收益數值能夠轉化為可行的交易決策，進一步證明 VIX 期貨期限結構的資訊價值。

3. **機器學習模型的表現差異**  
   - 在**RNN 類模型**（如 ALSTM、LSTM、GRU）中，**ALSTM 表現最佳**，在預測與回測表現上均優於其他模型。  
   - 在**決策樹模型**（XGBoost 和 LightGBM）中，兩者在不同的評估標準下表現各異，無法確定哪個更優。  
   - **線性回歸 (Linear Regression) 表現最佳**，勝過所有其他機器學習模型，顯示 VIX 期貨的期限結構特徵與次日收益之間可能是較線性的關係，而複雜的非線性模型可能會過擬合數據。

4. **統計衍生特徵對預測提升有限**  
   - 相較於純期限結構特徵，額外加入的統計衍生特徵（如標準差、偏度、峰度等）對提升預測能力的作用較小。  
   - 因此，期限結構特徵本身已經提供了關鍵的預測資訊，而統計衍生特徵的增量效果有限。

#### **研究貢獻：**
- **首次證明** VIX CMFs 期限結構特徵能夠精準預測次日收益。  
- **提出 C-MVO 交易策略**，並驗證其有效性，為量化交易策略提供新思路。  
- **對機器學習模型的應用進行深入對比**，發現簡單的線性回歸在此類預測問題上優於複雜的非線性模型。  

#### **未來研究方向：**
- **擴展數據樣本**（如高頻數據）來提升模型表現。  
- **探討更先進的深度學習模型**（如 Transformer、圖神經網絡）對 VIX 期貨交易的適用性。  

本研究對於量化投資者和學術界提供了重要的見解，證明 VIX 期貨期限結構可作為交易信號，並且機器學習預測的數值結果可用於構建更盈利的交易策略。

<a name="S6"></a>
## 6. **補充：CMFs**

**VIX CMFs（VIX Constant Maturity Futures，VIX 恒定期限期貨）** 是基於 **VIX 期貨** 構建的指數，旨在**維持固定期限的 VIX 期貨曝險**，而不是單一到期日的 VIX 期貨合約。這種設計使其能夠更穩定地反映市場對未來波動率的預期，而不會受到單一合約到期日的影響。

### **VIX CMFs 的特點與機制**
1. **基於 VIX 期貨合約構建**：
   - VIX 指數本身是基於 **標普 500 指數選擇權隱含波動率計算**，但**不能直接交易**。
   - **VIX 期貨**（VIX Futures）則提供了交易 VIX 指數的方式，但每個合約都有固定到期日，存在**展期成本**。

2. **固定期限（Constant Maturity）機制**：
   - 為了克服單一期貨合約的波動性問題，VIX CMFs **透過持續滾動（rolling）不同到期日的期貨合約**，來模擬一個**固定期限**（如 1 個月、2 個月、3 個月等）的 VIX 期貨部位。
   - 例如：
     - **SPVXSP**（VIX 短期期貨指數）：維持 **1 個月** 的恒定期限。
     - **SPVIX2ME**：維持 **2 個月** 期限。
     - **SPVIX3ME、SPVIX4ME、SPVIXMP、SPVIX6ME** 等則對應 **3~6 個月** 的固定期限。

3. **VIX CMFs 的期限結構（Term Structure）**：
   - VIX 期貨通常處於**正價差（Contango）**狀態，即遠期 VIX 期貨價格高於近月合約，因為市場預期波動率會上升。
   - 在市場恐慌時，VIX 期貨可能會進入**倒掛（Backwardation）**，即短期 VIX 期貨價格高於長期合約。
   - 本研究發現，VIX CMFs 的**期限結構特徵**（如 μt 和 Δroll）**對預測次日 VIX CMFs 的收益率具有顯著作用**。

### **VIX CMFs 的數學公式**

#### **1. VIX CMFs 的線性插值公式**
為了計算某一固定期限的 VIX 期貨價格，使用線性插值方法，該方法透過**兩個到期日最近的 VIX 期貨合約**進行加權計算：

$V_j^t = \omega_j^t F_{L_j}^t + (1 - \omega_j^t) F_{R_j}^t$

其中：
- $V_j^t$：在時間 $t$ 時，期限為 **$j$ 個月** 的 VIX CMF 指數值
- $F_{L_j}^t$：在時間 $t$ 時，最接近 $j$ 個月但**比 $j$ 個月短**的 VIX 期貨價格
- $F_{R_j}^t$：在時間 $t$ 時，最接近 $j$ 個月但**比 $j$ 個月長**的 VIX 期貨價格
- $\omega_j^t$：線性插值權重，計算方式為：

$\omega_j^t = \frac{T_{R_j} - 30j}{T_{R_j} - T_{L_j}}$

其中：
- $T_{L_j}$：較短期合約的剩餘天數
- $T_{R_j}$：較長期合約的剩餘天數
- 30j 表示 $j$ 個月的天數（假設 1 個月 = 30 天）

#### **2. VIX CMFs 的日收益計算**
VIX CMFs **每日收益率（Return）** 由兩個部分組成：
1. **價格變動（Price Change）**
2. **滾動收益（Roll Yield）**

$R_j^t = \frac{\Delta V_j^t}{V_j^t} + Roll_j^t \cdot \Delta t$

其中：
- $R_j^t$：第 $j$ 個月 VIX CMF 在時間 $t$ 的日收益率
- $\Delta V_j^t = V_j^{t+1} - V_j^t$：VIX CMF 指數價格變動
- $Roll_j^t$：滾動收益，計算公式如下：

$Roll_j^t = - \frac{F_{R_j}^{t+1} - F_{L_j}^{t+1}}{V_j^t (T_{R_j} - T_{L_j}) \cdot \Delta t}$

其中：
- **當 VIX 期貨市場處於** **正價差（Contango）** **時**（遠期價格高於近期價格）：
  $F_{R_j}^{t+1} > F_{L_j}^{t+1} \Rightarrow Roll_j^t < 0$
  表示滾動成本為負，VIX CMFs 隨時間推移價值下降。
- **當 VIX 期貨市場處於** **逆價差（Backwardation）** **時**（近期價格高於遠期價格）：
  $F_{R_j}^{t+1} < F_{L_j}^{t+1} \Rightarrow Roll_j^t > 0$
  表示滾動成本為正，VIX CMFs 隨時間推移價值上升。

#### **3. VIX CMFs 期限結構變量**
本研究提出了兩個關鍵變數來衡量 VIX CMFs 期限結構的預測能力：
1. **均值回歸因子（Mean-Reversion Component, $\mu_t$）**
   - 衡量當前 VIX 期貨期限結構與其歷史均值的偏離程度
   $\mu_j^t = V_j^t - V_{j-1}^t$

2. **期限結構變化率（Term Structure Slope Change, $\Delta Roll$）**
   - 衡量 VIX 期貨滾動收益的變動情況
   $\Delta Roll_j^t = Roll_j^t - Roll_{j-1}^t$

這兩個變數被證明對於預測**次日 VIX CMFs 的收益**具有顯著的影響。

#### **總結**
- **VIX CMFs 透過線性插值** 計算固定期限的 VIX 期貨價格，避免單一合約的波動影響。
- **收益計算包含兩部分**：價格變動 + 滾動收益，市場結構（Contango 或 Backwardation）會影響滾動成本。
- **均值回歸因子 $\mu_t$ 和期限結構變化率 $\Delta Roll$ 是重要的預測變量**，可用於機器學習模型來提升交易策略的準確性。

<a name="S7"></a>
## 7. **補充：C-MVO**

### **C-MVO（Constrained-Mean-Variance Portfolio Optimization）概述**
C-MVO（**約束均值-方差投資組合優化策略，Constrained-Mean-Variance Portfolio Optimization**）是一種基於**均值-方差投資組合理論（Mean-Variance Optimization, MVO）**的量化交易策略，並引入額外約束條件以提高風險管理效果。  
該策略的核心目標是：**根據機器學習模型預測的 VIX CMFs 次日收益，構建一個風險調整後最優的投資組合**，同時限制過度槓桿和單一資產風險。

### **1. C-MVO 策略的數學公式**
#### **(1) 最優化目標**
C-MVO 策略的目標是最大化投資組合的風險調整後預期收益：

$\max_{w_i} \sum_{i=1}^{n} w_i R_i - \gamma \cdot \text{Risk}$

其中：
- $w_i$：資產 $i$（即某個 VIX CMF）的投資權重
- $R_i$：機器學習模型預測的次日收益
- $\gamma$：風險厭惡係數（設定為 0.2）
- **風險**計算為投資組合的年化標準差：
  $\text{Risk} = \sqrt{w^T \cdot \Sigma \cdot w}$
  其中 $\Sigma$ 是 60 天歷史收益的協方差矩陣（**Covport**）

#### **(2) 交易策略約束**
為了控制交易風險，C-MVO 在經典 MVO 的基礎上引入了多種約束：
1. **個別資產權重上限：** 限制每個 VIX CMF 的最大持倉：
   $|w_i| \leq 1, \quad \forall i$
   防止單一 VIX CMF 的過度集中投資。

2. **槓桿限制：** 控制總槓桿（即多頭 + 空頭）：
   $\sum_{i=1}^{n} |w_i| \leq 3$
   避免極端槓桿操作，確保投資組合風險可控。

3. **投資總額約束：**
   $\sum_{i=1}^{n} w_i = 2$
   確保投資組合總倉位保持穩定。

4. **最大年化風險約束：**
   $\text{Risk} \leq 30\%$
   限制投資組合的總體風險水準，防止極端波動導致資本損失。

### **2. C-MVO 交易步驟**
#### **(1) 機器學習預測**
使用 **XGBoost、LSTM、ALSTM、GRU 等機器學習模型** 預測 **VIX CMFs 次日收益**（$R_i$）。

#### **(2) 風險計算**
根據過去 60 天的數據，計算 **VIX CMFs 之間的協方差矩陣（$\Sigma$）**，評估風險。

#### **(3) 最優化資產配置**
透過數學規劃求解：
$\max_{w_i} \sum w_i R_i - \gamma \cdot \sqrt{w^T \cdot \Sigma \cdot w}$
同時滿足上述 **約束條件**，求解最優投資組合權重 $w_i$。

#### **(4) 執行交易**
使用 C-MVO 計算出的最優投資組合權重進行資產配置，並持倉至次日收盤。

---

### **3. C-MVO vs. 傳統多空策略**
| 指標 | **C-MVO 策略** | **傳統多空策略（Long-Short）** |
|------|---------------|--------------------------|
| **信息比率（IR）** | **0.623** | **0.404** |
| **平均年化收益率** | **較高** | **較低** |
| **風險管理** | **嚴格槓桿與風險約束** | **無額外約束** |
| **交易靈活性** | **動態權重配置** | **單純做多/做空** |

結果顯示，**C-MVO 策略的回測表現優於基準多空策略**，可有效提升交易績效並降低風險。

---

### **4. 總結**
- **C-MVO 策略基於 MVO**，但加入**槓桿約束、持倉限制與風險控制**，使其更適合應用於 VIX 期貨交易。
- **機器學習預測的次日收益**作為關鍵輸入，提高了策略的適應性與可盈利性。
- **回測結果顯示** C-MVO **在信息比率、收益與風險控制方面均優於傳統多空策略**，提供了一種可行的量化交易方法。
