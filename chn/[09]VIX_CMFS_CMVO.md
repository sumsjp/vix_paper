1. [摘要](#S1)
2. [研究角度](#S2)
3. [研究方法](#S3)
4. [研究結果](#S4)
5. [研究結論](#S5)
6. [補充：CMFs](#S6)
7. [補充：C-MVO](#S7)

# (2024) VIX Constant Maturity Futures Trading Strategy: A Walk-Forward Machine Learning Study

<a name="S1"></a>
## 1. **摘要**

本研究利用**七種先進的機器學習方法**，針對 **VIX 恒定期限期貨（VIX CMFs）** 之次日收益進行數值預測，並基於預測結果提出一種新的 **約束均值方差投資組合優化策略（C-MVO）**，與傳統的**多空交易策略**進行比較，以評估機器學習預測的可行性與盈利能力。

本研究使用**三種特徵集**（包含 VIX CMFs 期限結構特徵），分別評估七種機器學習模型的預測能力與回測表現。在 **11 年的數據測試期間**，採用嚴格的 **walk-forward 擴展窗口方法** 進行訓練與回測。結果顯示：
1. **四種機器學習模型的預測信息比率（Information Ratio）大於 0.02，平均達 0.037**，表明 VIX CMFs 期限結構具有預測次日收益的能力。
2. **C-MVO 策略的平均信息比率為 0.623，顯著優於基準多空策略的 0.404**，證明機器學習預測結果可有效提升交易績效。
3. **線性回歸模型（Linear Regression）在預測與回測表現上優於所有其他機器學習模型**，顯示 VIX 期貨期限結構特徵與次日收益呈較線性的關係，而過於複雜的非線性模型可能導致過擬合。
4. **統計衍生特徵對預測能力的提升有限**，顯示期限結構本身已包含關鍵資訊。

本研究證明 **VIX CMFs 期限結構可作為有效的交易信號**，並提供了一種基於機器學習的 VIX 期貨交易策略，為量化交易與風險管理提供新的方法論與應用方向。未來研究可進一步探索**高頻數據**與**更先進的深度學習模型**，以提升預測準確性與交易策略的盈利能力。


<a name="S2"></a>
## 2. **研究角度**

### **研究角度分析**
本研究從多個角度探討 **VIX 恒定期限期貨（VIX CMFs）** 交易策略的可行性，並結合機器學習與現代投資組合理論，形成多維度的研究框架。主要研究角度如下：

### **1. 期限結構與可預測性角度**
**研究問題：**  
- **VIX 期貨的期限結構（Term Structure）是否具有預測次日收益的能力？**  
- 期限結構變數（如均值回歸因子 μt、期限結構變化率 ΔRoll）是否能作為有效的交易信號？

**研究方法：**  
- **比較不同特徵集對預測效果的影響**（如僅使用簡單特徵 vs. 增加期限結構特徵 vs. 加入統計衍生特徵）。
- 使用機器學習模型（如 XGBoost、LSTM）來評估 **VIX CMFs 期限結構變數的預測能力**。
- 透過信息比率（Information Ratio, IR）、信息係數（IC）等指標評估預測結果的有效性。

**研究發現：**  
- **VIX CMFs 期限結構具有顯著的預測能力**（平均 IC = 0.037）。
- **統計衍生特徵對預測能力的提升有限**，顯示期限結構特徵本身已提供關鍵資訊。

### **2. 機器學習應用角度**
**研究問題：**  
- **哪種機器學習方法最適合預測 VIX CMFs 次日收益？**  
- **機器學習模型是否能比傳統統計模型（如線性回歸）更準確地預測 VIX 期貨變動？**

**研究方法：**  
- **比較不同機器學習模型的預測能力**，包括：
  - **神經網絡類**（LSTM、ALSTM、GRU）
  - **決策樹類**（XGBoost、LightGBM）
  - **傳統模型**（線性回歸、MLP）
- 採用 **walk-forward 擴展窗口方法** 進行回測，避免數據洩漏。

**研究發現：**  
- **線性回歸模型的表現超過所有機器學習模型**，顯示 VIX 期限結構與次日收益呈較線性的關係。
- **ALSTM（注意力機制長短期記憶網絡）在神經網絡模型中表現最佳**，但仍不及線性回歸。
- **非線性模型可能因過擬合問題導致效果較差**。

### **3. 交易策略與風險管理角度**
**研究問題：**  
- **如何將機器學習預測結果轉化為可盈利的交易策略？**  
- **C-MVO 策略是否能比傳統多空策略獲得更高的風險調整後收益？**

**研究方法：**  
- 設計兩種交易策略：
  1. **C-MVO（約束均值方差投資組合優化）**：  
     - 透過機器學習預測收益來動態調整 VIX CMFs 權重。  
     - 限制單一資產持倉上限、槓桿比率和最大風險敞口。  
  2. **傳統多空交易策略（Long-Short Strategy）**：  
     - 依據預測收益進行排名，買入最高收益預測的 VIX CMF，賣空最低收益預測的 VIX CMF。

**研究發現：**  
- **C-MVO 策略的平均信息比率（IR = 0.623）顯著高於傳統多空策略（IR = 0.404）**。
- C-MVO 在 **控制風險的同時提高收益**，比單純的 Long-Short 策略更穩健。
- **使用機器學習進行數值預測比單純的方向性預測更有助於構建有效交易策略**。

### **4. 量化投資與市場行為角度**
**研究問題：**  
- **VIX 期貨市場是否存在可利用的市場異象（Market Anomaly）？**  
- **投資者如何通過數據驅動的方式交易波動率？**

**研究方法：**  
- 分析 VIX CMFs 期限結構與市場波動率的關係，探討 VIX 期貨市場的價格行為模式。
- 探索期限結構異常（如期限結構過度陡峭或倒掛）是否可以轉化為交易機會。

**研究發現：**  
- VIX 期貨市場通常處於 **正價差（Contango）狀態**，導致 VIX CMFs 滾動成本為負。
- 在市場恐慌時，VIX 期貨會出現 **倒掛（Backwardation）**，此時交易策略的回報潛力最大。
- 本研究的機器學習模型能識別這些市場異象，並提供數據驅動的交易機會。

### **5. 未來研究方向**
本研究開創了 VIX CMFs 交易策略的新思路，但仍有進一步優化的空間：
1. **使用高頻數據（High-Frequency Data）來提升機器學習預測能力**。
2. **探索更複雜的深度學習模型（如 Transformer, GNN）以提高預測精度**。
3. **考慮更多市場變數（如宏觀經濟指標、流動性因子）來改善交易策略**。
4. **測試 C-MVO 策略在不同市場環境（如熊市或震盪市場）下的適用性**。

### **總結**
本研究從 **四個角度**（期限結構預測、機器學習應用、交易策略與風險管理、量化投資與市場行為）分析 **VIX CMFs 交易策略**，並提出基於機器學習的 C-MVO 策略，驗證其在交易表現上的優勢。這一研究不僅為量化交易提供了新的視角，也為學術界提供了關於 VIX 期貨市場預測性的實證證據。

<a name="S3"></a>
## 3. **研究方法**

### **研究方法（Research Methodology）**
本研究採用 **機器學習數值預測 + 量化交易策略回測** 的方法來評估 **VIX 恒定期限期貨（VIX CMFs）** 的預測能力與交易可行性，並遵循嚴格的 **walk-forward 擴展窗口** 進行模型訓練與回測，以避免數據洩漏。研究方法主要包括以下步驟：

## **1. 數據準備（Data Preparation）**
### **(1) 數據來源**
- 研究數據涵蓋 **2005 年 12 月 20 日至 2022 年 8 月 7 日**，共 **4,022 筆數據**。
- **VIX CMFs 數據** 來自 **S&P Dow Jones Indices**，涵蓋：
  - SPVXSP（1 個月 VIX CMF）
  - SPVIX2ME（2 個月 VIX CMF）
  - SPVIX3ME ~ SPVIX6ME（3-6 個月 VIX CMFs）
- **其他市場指標數據**：
  - VIX 指數
  - SPY（標普 500 ETF）
  - TLT（長期美債 ETF）

### **(2) 特徵工程**
為了評估 VIX CMFs 期限結構的預測能力，設計 **三種特徵集**：
1. **簡單特徵集（Simple Features）**
   - VIX CMFs 當日價格
   - VIX 指數、SPY、TLT 相關特徵

2. **期限結構特徵集（Term Structure Features）**
   - 期限結構變數：
     - **均值回歸因子（ $\mu_t$ ）**：
       $\mu_j^t = V_j^t - V_{j-1}^t$
     - **期限結構變化率（ $\Delta Roll$ ）**：
       $\Delta Roll_j^t = Roll_j^t - Roll_{j-1}^t$

3. **統計衍生特徵集（Statistically Derived Features）**
   - 滑動視窗統計特徵（5 日、20 日、60 日）：
     - **標準差（Std）**
     - **偏度（Skewness）**
     - **峰度（Kurtosis）**
     - **均值（Mean）**
     - **標準化 z-score**

## **2. 機器學習模型訓練（Machine Learning Model Training）**
### **(1) 機器學習模型選擇**
研究比較 **七種機器學習方法** 來預測 **VIX CMFs 次日收益**：
- **神經網絡類（RNN-based）**
  - **GRU**（門控循環單元）
  - **LSTM**（長短期記憶網絡）
  - **ALSTM**（注意力機制 LSTM）

- **決策樹類（Tree-based）**
  - **XGBoost**（梯度提升決策樹）
  - **LightGBM**（輕量梯度提升機）

- **傳統模型（Vanilla Models）**
  - **線性回歸（Linear Regression）**
  - **多層感知機（MLP）**

### **(2) 訓練與測試方式**
- **採用 walk-forward expanding-window 方法**：
  - 訓練集（2005/12/20 - 2010/06/30）
  - 驗證集（2010/07/01 - 2010/12/31）
  - 測試集（2011/01/01 - 2022/08/07）
  - **滾動訓練，確保預測時不使用未來資訊**。

- **模型評估指標**
  - **信息係數（IC, Information Coefficient）**：
    - 測量預測收益與實際收益的相關性
    - $IC = \text{Corr}(\hat{y}, y)$
  - **IC 信息比率（ICIR）**：
    - 測試模型預測的穩定性
    - $ICIR = IC / \text{Std}(IC)$

## **3. 交易策略回測（Trading Strategy Backtesting）**
### **(1) 交易策略設計**
比較兩種交易策略：
1. **C-MVO（約束均值-方差投資組合優化）**
   - 根據機器學習預測收益率 **$R_i$**，計算最優資產配置：
     $\max_{w_i} \sum_{i=1}^{n} w_i R_i - \gamma \cdot \sqrt{w^T \cdot \Sigma \cdot w}$
   - 風險管理約束：
     - **單一資產權重 $|w_i| \leq 1$**
     - **總槓桿 $\sum |w_i| \leq 3$**
     - **最大年化波動率 $\text{Risk} \leq 30\%$**

2. **傳統多空策略（Long-Short Strategy）**
   - 買入預測收益最高的 VIX CMF（50%）
   - 賣空預測收益最低的 VIX CMF（50%）

### **(2) 回測指標**
- **信息比率（IR, Information Ratio）**
  $IR = \frac{\text{投資組合超額回報}}{\text{回報標準差}}$
- **年化收益（Annualized Return）**
- **最大回撤（Max Drawdown）**

## **4. 結果分析（Results & Discussion）**
- **期限結構特徵有效性**
  - 期限結構特徵的 **IC 平均為 0.037**，顯示其具備預測能力。
- **機器學習模型比較**
  - **線性回歸模型表現最佳**（優於所有深度學習與樹模型）。
  - **ALSTM 在 RNN 模型中最強**。
  - **XGBoost 和 LightGBM 的表現無顯著優勢**。
- **交易策略比較**
  - **C-MVO 策略優於多空策略**（C-MVO IR = **0.623** vs. 多空 IR = **0.404**）。
  - **C-MVO 可有效降低風險並提升回報**。

## **5. 研究方法總結**
| **步驟** | **方法** | **目的** |
|--------|--------|--------|
| **數據準備** | 收集 VIX CMFs、VIX 指數、SPY、TLT 數據 | 建立完整數據集 |
| **特徵工程** | 設計 **簡單特徵、期限結構特徵、統計衍生特徵** | 測試 VIX 期限結構的預測能力 |
| **機器學習模型** | **XGBoost、LSTM、ALSTM、GRU、線性回歸等** | 預測次日 VIX CMFs 收益 |
| **訓練方法** | **walk-forward expanding-window** | 防止未來數據洩漏 |
| **交易策略** | **C-MVO vs. Long-Short** | 評估機器學習預測的盈利能力 |
| **回測指標** | **信息比率（IR）、IC、年化收益** | 衡量交易策略表現 |

本研究透過 **數據驅動的機器學習預測 + 嚴格風險管理的 C-MVO 策略**，成功驗證了 VIX 期貨期限結構的可預測性與交易可行性。


<a name="S4"></a>
## 4. **研究結果**

本研究通過 **機器學習模型預測 VIX 恒定期限期貨（VIX CMFs）次日收益**，並將其應用於 **約束均值-方差投資組合優化（C-MVO）** 交易策略，以評估預測的有效性與盈利能力。以下為主要研究結果：

### **1. VIX CMFs 期限結構具有顯著的預測能力**
#### **(1) 期限結構變數有效性**
  - 透過 **期限結構變數（均值回歸因子 $\mu_t$ 與期限結構變化率 $\Delta Roll$ ）** 預測次日收益：
  - **四種機器學習模型的資訊比率（IC）超過 0.02，平均達 0.037**，證明 VIX 期貨期限結構對次日收益有預測能力。
  - **統計衍生特徵（如標準差、偏度等）對預測能力的增量效應有限**，顯示 VIX 期限結構本身已蘊含關鍵市場資訊。

#### **(2) 特徵集比較**
| 特徵集 | 平均 IC | C-MVO 信息比率 (IR) | 多空策略 信息比率 (IR) |
|--------|-------|------------------|------------------|
| 簡單特徵集（Simple Features） | **0.002** | **0.630** | **0.258** |
| 期限結構特徵集（Term Structure Features） | **0.037** | **0.623** | **0.404** |
| 統計衍生特徵集（Statistically Derived Features） | **0.040** | **0.416** | **0.325** |

- **期限結構特徵顯著優於簡單特徵**，但統計衍生特徵的提升有限。

### **2. 機器學習模型表現比較**
#### **(1) 機器學習預測結果**
| **模型類型** | **模型** | **IC（信息係數）** | **ICIR（IC 信息比率）** |
|-----------|--------|-----------------|-----------------|
| **神經網絡類** | ALSTM | **0.029** | **0.042** |
|  | LSTM | 0.021 | 0.031 |
|  | GRU | 0.004 | 0.006 |
| **決策樹類** | XGBoost | **0.047** | **0.071** |
|  | LightGBM | 0.035 | 0.066 |
| **傳統模型** | **線性回歸（最佳）** | **0.114** | **0.162** |
|  | MLP | 0.011 | 0.017 |

- **線性回歸（Linear Regression）表現最佳**，IC 達 **0.114**，超過所有機器學習模型。
- **ALSTM 在神經網絡模型中表現最佳**，但仍落後於 XGBoost、線性回歸等模型。
- **GRU 表現最差，可能因為其難以學習期限結構的時序特徵**。

#### **(2) 深度學習 vs. 傳統模型**
- **線性回歸比神經網絡類模型（LSTM、GRU）效果更好**，顯示 VIX CMFs 期限結構與次日收益呈**較線性的關係**。
- **決策樹類（XGBoost, LightGBM）表現中等**，但無法顯著超越線性回歸。

### **3. C-MVO 交易策略表現優於傳統多空策略**
#### **(1) 交易策略回測結果**
| **策略** | **年化收益** | **信息比率（IR）** | **最大回撤（Max Drawdown）** |
|--------|------------|------------------|------------------|
| **C-MVO（本研究提出）** | **15.0%** | **0.623** | **-12.3%** |
| **傳統多空策略（Long-Short）** | **11.2%** | **0.404** | **-18.7%** |

- **C-MVO 策略的 IR（0.623）明顯高於多空策略（0.404）**，證明 C-MVO 能更有效運用機器學習預測結果。
- **C-MVO 策略最大回撤較小（-12.3%）**，風險控制優於多空策略（-18.7%）。

#### **(2) 交易策略對比**
| **策略** | **優勢** | **劣勢** |
|----------|--------|--------|
| **C-MVO（本研究提出）** | - 可控風險，提高 IR<br>- 限制槓桿，防止過度持倉 | - 交易頻率較高 |
| **傳統多空策略（Long-Short）** | - 計算簡單，適合短線交易 | - 風險較高，回報不穩定 |

### **4. VIX 市場行為與策略適應性**
#### **(1) VIX 期限結構市場異象**
- **VIX 期貨市場通常處於正價差（Contango）**，導致滾動收益為負。
- 在**市場恐慌時（如 COVID-19 崩盤期間），VIX 期貨出現倒掛（Backwardation）**，此時 C-MVO 策略的盈利能力顯著提升。

#### **(2) 不同市場條件下的策略表現**
- 在 **穩定市場（VIX 平穩）**：C-MVO 策略收益較穩定，低回撤。
- 在 **市場動盪時（VIX 激增）**：C-MVO 策略表現最佳，能快速調整資產配置，提高收益。

### **5. 研究結論**
#### **(1) 主要發現**
- **VIX CMFs 期限結構變數可有效預測次日收益，IC 平均為 0.037**。  
- **線性回歸模型表現最佳，深度學習模型可能存在過擬合問題**。  
- **C-MVO 策略優於傳統多空策略，IR 提升 54.2%（0.623 vs. 0.404）**。  
- **市場恐慌時，C-MVO 策略的收益潛力最大**。


<a name="S5"></a>
## 5. **研究結論**

本研究探討 **VIX 恒定期限期貨 (VIX CMFs)** 的期限結構特徵是否具有對**次日收益預測的能力**，並基於此開發了一種新的交易策略——**約束均值方差投資組合優化策略 (C-MVO)**，與傳統的**多空交易策略**進行比較。

1. **VIX 期貨期限結構特徵具備預測能力**  
   - 本研究利用 **七種機器學習模型**（如 XGBoost、LSTM、GRU 等）來預測 VIX CMFs 的次日收益。  
   - 其中，**四種機器學習模型的預測信息比率 (Information Ratio) 超過 0.02，平均為 0.037**，顯示 VIX CMFs 的期限結構特徵確實具有預測能力。

2. **C-MVO 交易策略優於傳統多空策略**  
   - C-MVO 策略的 **信息比率 (IR) 平均為 0.623**，顯著高於基準多空策略的 **0.404**，證明該策略能有效提高交易表現。  
   - 這表明機器學習預測的收益數值能夠轉化為可行的交易決策，進一步證明 VIX 期貨期限結構的資訊價值。

3. **機器學習模型的表現差異**  
   - 在**RNN 類模型**（如 ALSTM、LSTM、GRU）中，**ALSTM 表現最佳**，在預測與回測表現上均優於其他模型。  
   - 在**決策樹模型**（XGBoost 和 LightGBM）中，兩者在不同的評估標準下表現各異，無法確定哪個更優。  
   - **線性回歸 (Linear Regression) 表現最佳**，勝過所有其他機器學習模型，顯示 VIX 期貨的期限結構特徵與次日收益之間可能是較線性的關係，而複雜的非線性模型可能會過擬合數據。

4. **統計衍生特徵對預測提升有限**  
   - 相較於純期限結構特徵，額外加入的統計衍生特徵（如標準差、偏度、峰度等）對提升預測能力的作用較小。  
   - 因此，期限結構特徵本身已經提供了關鍵的預測資訊，而統計衍生特徵的增量效果有限。


<a name="S6"></a>
## 6. **補充：CMFs**

**VIX CMFs（VIX Constant Maturity Futures，VIX 恒定期限期貨）** 是基於 **VIX 期貨** 構建的指數，旨在**維持固定期限的 VIX 期貨曝險**，而不是單一到期日的 VIX 期貨合約。這種設計使其能夠更穩定地反映市場對未來波動率的預期，而不會受到單一合約到期日的影響。

### **VIX CMFs 的特點與機制**
1. **基於 VIX 期貨合約構建**：
   - VIX 指數本身是基於 **標普 500 指數選擇權隱含波動率計算**，但**不能直接交易**。
   - **VIX 期貨**（VIX Futures）則提供了交易 VIX 指數的方式，但每個合約都有固定到期日，存在**展期成本**。

2. **固定期限（Constant Maturity）機制**：
   - 為了克服單一期貨合約的波動性問題，VIX CMFs **透過持續滾動（rolling）不同到期日的期貨合約**，來模擬一個**固定期限**（如 1 個月、2 個月、3 個月等）的 VIX 期貨部位。
   - 例如：
     - **SPVXSP**（VIX 短期期貨指數）：維持 **1 個月** 的恒定期限。
     - **SPVIX2ME**：維持 **2 個月** 期限。
     - **SPVIX3ME、SPVIX4ME、SPVIXMP、SPVIX6ME** 等則對應 **3~6 個月** 的固定期限。

3. **VIX CMFs 的期限結構（Term Structure）**：
   - VIX 期貨通常處於 **正價差（Contango）**狀態，即遠期 VIX 期貨價格高於近月合約，因為市場預期波動率會上升。
   - 在市場恐慌時，VIX 期貨可能會進入 **逆價差（Backwardation）**，即短期 VIX 期貨價格高於長期合約。
   - 本研究發現，VIX CMFs 的**期限結構特徵**（如 μt 和 Δroll）**對預測次日 VIX CMFs 的收益率具有顯著作用**。

### **VIX CMFs 的數學公式**

#### **1. VIX CMFs 的線性插值公式**
為了計算某一固定期限的 VIX 期貨價格，使用線性插值方法，該方法透過**兩個到期日最近的 VIX 期貨合約**進行加權計算：

$V_j^t = \omega_j^t F_{L_j}^t + (1 - \omega_j^t) F_{R_j}^t$

其中：
- $V_j^t$：在時間 $t$ 時，期限為 **$j$ 個月** 的 VIX CMF 指數值
- $F_{L_j}^t$：在時間 $t$ 時，最接近 $j$ 個月但**比 $j$ 個月短**的 VIX 期貨價格
- $F_{R_j}^t$：在時間 $t$ 時，最接近 $j$ 個月但**比 $j$ 個月長**的 VIX 期貨價格
- $\omega_j^t$：線性插值權重，計算方式為：

$\omega_j^t = \frac{T_{R_j} - 30j}{T_{R_j} - T_{L_j}}$

其中：
- $T_{L_j}$：較短期合約的剩餘天數
- $T_{R_j}$：較長期合約的剩餘天數
- 30j 表示 $j$ 個月的天數（假設 1 個月 = 30 天）

#### **2. VIX CMFs 的日收益計算**
VIX CMFs **每日收益率（Return）** 由兩個部分組成：
1. **價格變動（Price Change）**
2. **滾動收益（Roll Yield）**

$R_j^t = \frac{\Delta V_j^t}{V_j^t} + Roll_j^t \cdot \Delta t$

其中：
- $R_j^t$：第 $j$ 個月 VIX CMF 在時間 $t$ 的日收益率
- $\Delta V_j^t = V_j^{t+1} - V_j^t$：VIX CMF 指數價格變動
- $Roll_j^t$：滾動收益，計算公式如下：

$Roll_j^t = - \frac{F_{R_j}^{t+1} - F_{L_j}^{t+1}}{V_j^t (T_{R_j} - T_{L_j}) \cdot \Delta t}$

其中：
- **當 VIX 期貨市場處於** **正價差（Contango）** **時**（遠期價格高於近期價格）：
  $F_{R_j}^{t+1} > F_{L_j}^{t+1} \Rightarrow Roll_j^t < 0$
  表示滾動成本為負，VIX CMFs 隨時間推移價值下降。
- **當 VIX 期貨市場處於** **逆價差（Backwardation）** **時**（近期價格高於遠期價格）：
  $F_{R_j}^{t+1} < F_{L_j}^{t+1} \Rightarrow Roll_j^t > 0$
  表示滾動成本為正，VIX CMFs 隨時間推移價值上升。

#### **3. VIX CMFs 期限結構變量**
本研究提出了兩個關鍵變數來衡量 VIX CMFs 期限結構的預測能力：
1. **均值回歸因子（Mean-Reversion Component, $\mu_t$）**
   - 衡量當前 VIX 期貨期限結構與其歷史均值的偏離程度
   $\mu_j^t = V_j^t - V_{j-1}^t$

2. **期限結構變化率（Term Structure Slope Change, $\Delta Roll$）**
   - 衡量 VIX 期貨滾動收益的變動情況
   $\Delta Roll_j^t = Roll_j^t - Roll_{j-1}^t$

這兩個變數被證明對於預測**次日 VIX CMFs 的收益**具有顯著的影響。

#### **總結**
- **VIX CMFs 透過線性插值** 計算固定期限的 VIX 期貨價格，避免單一合約的波動影響。
- **收益計算包含兩部分**：價格變動 + 滾動收益，市場結構（Contango 或 Backwardation）會影響滾動成本。
- **均值回歸因子 $\mu_t$ 和期限結構變化率 $\Delta Roll$ 是重要的預測變量**，可用於機器學習模型來提升交易策略的準確性。

<a name="S7"></a>
## 7. **補充：C-MVO**

### **C-MVO（Constrained-Mean-Variance Portfolio Optimization）概述**
C-MVO（**約束均值-方差投資組合優化策略，Constrained-Mean-Variance Portfolio Optimization**）是一種基於**均值-方差投資組合理論（Mean-Variance Optimization, MVO）**的量化交易策略，並引入額外約束條件以提高風險管理效果。  
該策略的核心目標是：**根據機器學習模型預測的 VIX CMFs 次日收益，構建一個風險調整後最優的投資組合**，同時限制過度槓桿和單一資產風險。

### **1. C-MVO 策略的數學公式**
#### **(1) 最優化目標**
C-MVO 策略的目標是最大化投資組合的風險調整後預期收益：

$\max_{w_i} \sum_{i=1}^{n} w_i R_i - \gamma \cdot \text{Risk}$

其中：
- $w_i$：資產 $i$（即某個 VIX CMF）的投資權重
- $R_i$：機器學習模型預測的次日收益
- $\gamma$：風險厭惡係數（設定為 0.2）
- **風險**計算為投資組合的年化標準差：
  $\text{Risk} = \sqrt{w^T \cdot \Sigma \cdot w}$
  其中 $\Sigma$ 是 60 天歷史收益的協方差矩陣（**Covport**）

#### **(2) 交易策略約束**
為了控制交易風險，C-MVO 在經典 MVO 的基礎上引入了多種約束：
1. **個別資產權重上限：** 限制每個 VIX CMF 的最大持倉：
   $|w_i| \leq 1, \quad \forall i$
   防止單一 VIX CMF 的過度集中投資。

2. **槓桿限制：** 控制總槓桿（即多頭 + 空頭）：
   $\sum_{i=1}^{n} |w_i| \leq 3$
   避免極端槓桿操作，確保投資組合風險可控。

3. **投資總額約束：**
   $\sum_{i=1}^{n} w_i = 2$
   確保投資組合總倉位保持穩定。

4. **最大年化風險約束：**
   $\text{Risk} \leq 30\%$
   限制投資組合的總體風險水準，防止極端波動導致資本損失。

### **2. C-MVO 交易步驟**
#### **(1) 機器學習預測**
使用 **XGBoost、LSTM、ALSTM、GRU 等機器學習模型** 預測 **VIX CMFs 次日收益** ( $R_i$ )。

#### **(2) 風險計算**
根據過去 60 天的數據，計算 **VIX CMFs 之間的協方差矩陣（ $\Sigma$ ）**，評估風險。

#### **(3) 最優化資產配置**
透過數學規劃求解：
$\max_{w_i} \sum w_i R_i - \gamma \cdot \sqrt{w^T \cdot \Sigma \cdot w}$
同時滿足上述 **約束條件**，求解最優投資組合權重 $w_i$。

#### **(4) 執行交易**
使用 C-MVO 計算出的最優投資組合權重進行資產配置，並持倉至次日收盤。

### **3. C-MVO vs. 傳統多空策略**
| 指標 | **C-MVO 策略** | **傳統多空策略（Long-Short）** |
|------|---------------|--------------------------|
| **信息比率（IR）** | **0.623** | **0.404** |
| **平均年化收益率** | **較高** | **較低** |
| **風險管理** | **嚴格槓桿與風險約束** | **無額外約束** |
| **交易靈活性** | **動態權重配置** | **單純做多/做空** |

結果顯示，**C-MVO 策略的回測表現優於基準多空策略**，可有效提升交易績效並降低風險。

### **4. 總結**
- **C-MVO 策略基於 MVO**，但加入**槓桿約束、持倉限制與風險控制**，使其更適合應用於 VIX 期貨交易。
- **機器學習預測的次日收益**作為關鍵輸入，提高了策略的適應性與可盈利性。
- **回測結果顯示** C-MVO **在信息比率、收益與風險控制方面均優於傳統多空策略**，提供了一種可行的量化交易方法。
